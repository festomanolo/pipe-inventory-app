<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Pipe Inventory Management</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Font Awesome Icons - Updated with SRI for Windows compatibility -->
  <!-- Custom Fonts -->
  <link rel="stylesheet" href="css/font.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">
    <div class="container py-4">
        <h2 class="mb-4">Settings</h2>
        
        <!-- General Settings -->
        <div class="card bg-dark text-light border-secondary mb-4">
            <div class="card-header border-secondary">
                <h5 class="mb-0">General Settings</h5>
            </div>
            <div class="card-body">
                <form id="settings-form">
                    <div class="mb-3">
                        <label for="company-name" class="form-label">Company Name</label>
                        <input type="text" class="form-control bg-dark text-light border-secondary" id="company-name">
                    </div>
                    <div class="mb-3">
                        <label for="alert-threshold" class="form-label">Low Stock Alert Threshold</label>
                        <input type="number" class="form-control bg-dark text-light border-secondary" id="alert-threshold">
                    </div>
                    <div class="mb-3">
                        <label for="currency" class="form-label">Currency</label>
                        <select class="form-select bg-dark text-light border-secondary" id="currency">
                            <option value="TZS">Tanzanian Shilling (TZS)</option>
                            <option value="USD">US Dollar (USD)</option>
                            <option value="EUR">Euro (EUR)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" id="save-settings">Save Settings</button>
                </form>
            </div>
        </div>

        <!-- Daily Report Settings -->
        <div class="card bg-dark text-light border-secondary mb-4">
            <div class="card-header border-secondary">
                <h5 class="mb-0">Daily Report Settings</h5>
            </div>
            <div class="card-body">
                <form id="report-settings-form">
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="enable-daily-reports">
                            <label class="form-check-label" for="enable-daily-reports">Enable Daily Reports</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Report Generation Time</label>
                        <div class="row">
                            <div class="col">
                                <input type="number" class="form-control bg-dark text-light border-secondary" id="report-hour" min="0" max="23" placeholder="Hour (0-23)">
                            </div>
                            <div class="col">
                                <input type="number" class="form-control bg-dark text-light border-secondary" id="report-minute" min="0" max="59" placeholder="Minute (0-59)">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="report-directory" class="form-label">Report Directory</label>
                        <div class="input-group">
                            <input type="text" class="form-control bg-dark text-light border-secondary" id="report-directory" readonly>
                            <button class="btn btn-outline-secondary" type="button" id="choose-directory">Choose Directory</button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="show-notifications">
                            <label class="form-check-label" for="show-notifications">Show Notifications</label>
                        </div>
                    </div>
                    <button type="button" class="btn btn-primary" id="generate-report-now">
                        <i class="fas fa-file-pdf me-2"></i> Generate Today's Report Now
                    </button>
                </form>
            </div>
        </div>

        <!-- Add a new tab item for Cloud Sync -->
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="cloud-sync-tab" data-bs-toggle="tab" data-bs-target="#cloud-sync" type="button" role="tab" aria-controls="cloud-sync" aria-selected="false">
                <i class="fas fa-cloud-upload-alt me-2"></i>Cloud Sync
            </button>
        </li>

        <!-- About Button -->
        <div class="d-grid gap-2">
            <button class="btn btn-outline-primary" id="about-button">
                <i class="fas fa-info-circle me-2"></i> About
            </button>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title" id="aboutModalLabel">About</h5>
                    <button type="button" class="btn-close btn-close-red" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <img src="../assets/images/profile.png" alt="Profile" class="rounded-circle mb-3" style="width: 100px; height: 100px; object-fit: cover;">
                        <h4>Festomanolo</h4>
                        <p class="text-muted">Pipe Inventory Management System</p>
                    </div>
                    
                    <div class="list-group list-group-flush">
                        <div class="list-group-item bg-dark text-light border-secondary">
                            <div class="d-flex align-items-center">
                                <i class="fab fa-whatsapp me-3 text-success"></i>
                                <div>
                                    <h6 class="mb-0">WhatsApp</h6>
                                    <a href="https://wa.me/255784953866" class="text-light text-decoration-none" target="_blank">+255 784 953 866</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="list-group-item bg-dark text-light border-secondary">
                            <div class="d-flex align-items-center">
                                <i class="fab fa-github me-3"></i>
                                <div>
                                    <h6 class="mb-0">GitHub</h6>
                                    <a href="https://github.com/festomanolo" class="text-light text-decoration-none" target="_blank">@festomanolo</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="list-group-item bg-dark text-light border-secondary">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-globe me-3 text-primary"></i>
                                <div>
                                    <h6 class="mb-0">Website</h6>
                                    <a href="https://festomanolo.xyz" class="text-light text-decoration-none" target="_blank">festomanolo.xyz</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <p class="text-muted small">Â© 2024 Festomanolo. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add a new tab panel for Cloud Sync after the other tab panels -->
    <div class="tab-pane fade" id="cloud-sync" role="tabpanel" aria-labelledby="cloud-sync-tab">
        <div class="card dark-card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Supabase Configuration</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <p><i class="fas fa-info-circle me-2"></i> Configure Supabase to sync your data across devices. <a href="https://supabase.com/docs" target="_blank">Learn more</a></p>
                </div>
                
                <div class="d-flex align-items-center mb-4">
                    <div class="me-3">Status:</div>
                    <div id="sync-status-indicator" class="status-badge status-warning">Not Configured</div>
                    <div class="ms-auto">
                        Last Sync: <span id="last-sync-timestamp">Never</span>
                    </div>
                </div>
                
                <form>
                    <div class="row g-3 mb-4">
                        <div class="col-md-6">
                            <label for="supabase-url" class="form-label">Supabase URL</label>
                            <input type="text" class="form-control" id="supabase-url" placeholder="https://your-project.supabase.co">
                            <div class="form-text">Your Supabase project URL</div>
                        </div>
                        <div class="col-md-6">
                            <label for="supabase-key" class="form-label">Supabase API Key</label>
                            <input type="password" class="form-control" id="supabase-key" placeholder="supabase_key">
                            <div class="form-text">Your Supabase anon/public API key</div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <button type="button" id="save-supabase-config" class="btn btn-primary">
                            <i class="fas fa-save me-2"></i>Save Configuration
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="card dark-card">
            <div class="card-header">
                <h5 class="card-title mb-0">Sync Status</h5>
            </div>
            <div class="card-body">
                <div id="sync-details-container">
                    <!-- Sync details will be populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/settings.js"></script>
</body>
</html> 